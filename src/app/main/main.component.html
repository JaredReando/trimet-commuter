<!-- <div class="app-view" [id]="timeOfDay"> -->

<!-- Save above. Below 'div' only used for morning/evning style testing -->

<div class="app-view" [id]="timeOfDay" *ngIf="user">

  <div *ngIf="stop">
    <section class="stop-info">
      <p id="stop-id">Stop ID: {{stop.stopId}} - {{stop.direction}}</p>
      <p id="stop-description">{{stop.name}}</p>
    </section>

    <!-- <section class="upcoming-status-bar">
    <div *ngFor="let train of trains" class="vehicle" [style.left]="train.position" (mouseenter)="highlightAccordian(train)"></div>
    <div id="line"></div>
  </section> -->

    <section class="upcoming-status-bar-am">
      <div><p style="color: #FF962C; z-index: 999">STOP</p></div>
      <div *ngFor="let arrival of stop.arrivals" class="vehicle" [style.left]="getVehicleLeft(arrival.arrivalMin, arrival.arrivalSec)">
        {{getIconText(arrival.type, arrival.line)}}
      </div>
      <div id="line"></div>
    </section>

    <section class="upcoming-status-accordion">
      <mat-accordion>
        <mat-expansion-panel *ngFor="let arrival of stop.arrivals">
          <mat-expansion-panel-header >
            <mat-panel-title>
              <div [class]="getIconClass(arrival.type, arrival.line)">{{getIconText(arrival.type, arrival.line)}}</div>
              <span class="destination">{{arrival.dest}} - {{arrival.line}}</span>
            </mat-panel-title>
            <mat-panel-description>
              <span>Scheduled time: {{arrival.scheduled}}</span>
              <span>Arrives in: {{arrival.arrivalMin}} min {{arrival.arrivalSec}} sec</span>
              <span>Status: {{arrival.late}}</span>
            </mat-panel-description>
          </mat-expansion-panel-header>
          {{arrival.late}}
        </mat-expansion-panel>
      </mat-accordion>
    </section>
  </div>
</div>
